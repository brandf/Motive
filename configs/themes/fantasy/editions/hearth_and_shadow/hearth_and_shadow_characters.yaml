entity_definitions:
  detective_thorne:
    behaviors:
    - character
    attributes:
      name: Detective James Thorne
      description: A seasoned detective with a sharp mind and unwavering determination. Detective Thorne is driven by the need to avenge his murdered partner and bring the Shadowed Hand cult to justice. His investigative skills are unmatched, and he approaches each case with methodical precision and deep personal investment.
    properties:
      # Inventory management
      inventory_size: { type: number, default: 12 }
      # Phase 1: Initial Evidence Gathering
      evidence_found: { type: number, default: 0 }
      # Branch A: Cult Structure Investigation
      cult_hierarchy_discovered: { type: boolean, default: false }
      cult_locations_mapped: { type: boolean, default: false }
      # Branch B: Ritual Knowledge Investigation
      ritual_knowledge_mastered: { type: boolean, default: false }
      cult_timing_understood: { type: boolean, default: false }
      # Branch C: Justice Preparation
      justice_tools_acquired: { type: boolean, default: false }
      evidence_chain_complete: { type: boolean, default: false }
      # Final Synthesis
      final_confrontation_ready: { type: boolean, default: false }
      # Failure conditions
      evidence_destroyed: { type: boolean, default: false }
      cult_escaped: { type: boolean, default: false }
      dark_power_channeled: { type: boolean, default: false }
    computed:
      investigation_progress:
        type: number
        expr: "(evidence_collected * 25) + (witnesses_interviewed * 25) + (cult_exposed ? 25 : 0) + (justice_served ? 25 : 0)"
      daughter_protection_level:
        type: number
        expr: "(medicine_found ? 50 : 0) + (daughter_safe ? 50 : 0)"
      vengeance_progress:
        type: number
        expr: "(partner_avenged ? 50 : 0) + (cult_destroyed ? 50 : 0)"
      overall_threat_level:
        type: number
        expr: "investigation_fatigue + cult_corruption"
    triggers:
      - when: "evidence_collected >= 3"
        then:
          - emit_event:
              scope: room_characters
              message: "Detective James has gathered enough evidence to piece together the cult's activities!"
      - when: "witnesses_interviewed >= 2"
        then:
          - emit_event:
              scope: room_characters
              message: "Detective James has interviewed enough witnesses to understand the pattern of disappearances!"
      - when: "cult_exposed == true"
        then:
          - emit_event:
              scope: room_characters
              message: "Detective James has exposed the cult! The truth is now public knowledge!"
      - when: "justice_served == true"
        then:
          - emit_event:
              scope: room_characters
              message: "Detective James has brought the cult to justice! The investigation is complete!"
      - when: "investigation_fatigue > 5"
        then:
          - emit_event:
              scope: room_characters
              message: "Detective James is showing signs of exhaustion from his relentless investigation."
      - when: "cult_corruption > 3"
        then:
          - emit_event:
              scope: room_characters
              message: "Detective James is feeling the corrupting influence of the cult's dark magic."
    name: Detective James Thorne
    short_name: James Thorne
    backstory: "A former city guard turned private investigator, James Thorne arrived\
      \ in Blackwater \nthree months ago to investigate the mysterious disappearances.\
      \ His sharp mind and \nkeen observational skills have made him a valuable asset\
      \ to the town, but his \nrelentless pursuit of the truth has made him enemies\
      \ among those who prefer to \nkeep their secrets hidden. He carries a worn notebook\
      \ filled with clues and \nsuspects, and his weathered face tells the story of\
      \ many sleepless nights spent \non the case. His partner was killed by the cult,\
      \ and he has a sick daughter who \nneeds expensive medicine - creating a dangerous\
      \ vulnerability that the cult could exploit.\n"
    motives:
    - id: avenge_partner
      description: Avenge your murdered partner through a complex investigation that requires uncovering the cult's structure, understanding their rituals, and gathering the tools needed to bring them to justice. This is a multi-faceted investigation with branching paths that must be synthesized into a final confrontation.
      success_conditions:
      - operator: AND
      # Phase 1: Initial Evidence Gathering (Foundation)
      - type: character_has_property
        property: evidence_found
        value: 2
        operator: ">="
        progress_message: "You've assembled the initial case file‚Äînow identify who sits at the top of the cult."
      # Branch A: Cult Structure Investigation
      - type: character_has_property
        property: cult_hierarchy_discovered
        value: true
        progress_message: "The hierarchy is clear. Track where each lieutenant gathers to map their safe houses."
      - type: character_has_property
        property: cult_locations_mapped
        value: true
        progress_message: "You know their meeting points‚Äîstudy their rites to learn when they'll strike next."
      # Branch B: Ritual Knowledge Investigation  
      - type: character_has_property
        property: ritual_knowledge_mastered
        value: true
        progress_message: "The ritual mechanics make sense. Pin down the timing so you can intercept the ceremony."
      - type: character_has_property
        property: cult_timing_understood
        value: true
        progress_message: "You have their schedule. Secure whatever tools you'll need to shut them down."
      # Branch C: Justice Preparation
      - type: character_has_property
        property: justice_tools_acquired
        value: true
        progress_message: "You're armed for the raid‚Äîcompile your evidence so the case survives in daylight."
      - type: character_has_property
        property: evidence_chain_complete
        value: true
        progress_message: "The case file is airtight. Synthesize your findings into one final takedown plan."
      # Final Synthesis: Combine all branches
      - type: character_has_property
        property: final_confrontation_ready
        value: true
        progress_message: "The confrontation plan is in place. Move fast before the cult slips the net."
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: evidence_destroyed
        value: true
      - type: character_has_property
        property: cult_escaped
        value: true
      - type: character_has_property
        property: dark_power_channeled
        value: true
      status_prompts:
      - condition:
          operator: OR
          conditions:
          - type: character_has_property
            property: evidence_destroyed
            value: true
          - type: character_has_property
            property: cult_escaped
            value: true
          - type: character_has_property
            property: dark_power_channeled
            value: true
        message: "**üß≠ Case Outlook:** The cult just shattered part of your case file. Recover fresh proof before dawn swallows the trail."
      - condition:
          type: character_has_property
          property: final_confrontation_ready
          value: true
        message: "**üß≠ Case Outlook:** Every thread is tied off. Assemble your allies and spring the trap before the Shadowed Hand relocates."
      - condition:
          operator: AND
          conditions:
          - type: character_has_property
            property: justice_tools_acquired
            value: true
          - type: character_has_property
            property: evidence_chain_complete
            value: true
          - type: character_has_property
            property: cult_timing_understood
            value: true
        message: "**üß≠ Case Outlook:** Your weapons are packed and the ritual schedule is pinned. Lock down the leadership's safe house to trigger the confrontation."
      - condition:
          operator: AND
          conditions:
          - type: character_has_property
            property: cult_hierarchy_discovered
            value: true
          - type: character_has_property
            property: cult_locations_mapped
            value: true
        message: "**üß≠ Case Outlook:** You know who chairs the cult and where they gather. Study their rites to predict the exact moment to strike."
      - condition:
          type: character_has_property
          property: evidence_found
          value: 2
          operator: ">="
        message: "**üß≠ Case Outlook:** The initial dossiers click into place. Follow the Gazette leads for hierarchy intel before the cult purges their insiders."
      - message: "**üß≠ Case Outlook:** The case is raw. Sweep the town square, tavern whispers, and guild ledgers for anything that ties the cult together."
    initial_rooms:
    - room_id: town_square
      chance: 40
      reason: Examining the scene of the latest disappearance. Your notebook is filled
        with clues, and you're determined to find the truth behind the mayor's vanishing
        and bring the cult to justice.
    - room_id: tavern
      chance: 30
      reason: Questioning witnesses and gathering information. The barkeep has been
        helpful, and you're here to piece together the timeline of events leading
        to the mayor's disappearance.
    - room_id: bank
      chance: 20
      reason: Following a lead about suspicious financial transactions. The bank manager
        is nervous, and you suspect there's more to the mayor's disappearance than
        meets the eye.
    - room_id: adventurer_guild
      chance: 10
      reason: Seeking help from Guild Master Elena. You need allies in your investigation,
        and the guild's resources could be invaluable in tracking down the cult.
    aliases:
    - james
    - detective
    - thorn
    - investigator
    - sleuth
  father_marcus:
    behaviors:
    - character
    attributes:
      name: Father Marcus
      description: A devoted priest whose faith has been shaken by the cult's corruption. He now pursues a path of purification to restore the town's divine protections.
    properties:
      inventory_size: { type: number, default: 12 }
      church_taint_identified: { type: boolean, default: false }
      cemetery_taint_identified: { type: boolean, default: false }
      shrine_taint_identified: { type: boolean, default: false }
      blessed_incense_collected: { type: boolean, default: false }
      saints_bone_collected: { type: boolean, default: false }
      hallowed_water_collected: { type: boolean, default: false }
      consecration_vial_collected: { type: boolean, default: false }
      church_cleansed: { type: boolean, default: false }
      cemetery_cleansed: { type: boolean, default: false }
      shrine_cleansed: { type: boolean, default: false }
      final_sermon_delivered: { type: boolean, default: false }
      faith_lost: { type: boolean, default: false }
    name: Father Marcus
    backstory: "A long-serving priest whose faith fractured when the cult forced him into a ritual. Marcus now seeks redemption by cleansing every holy site before despair consumes him."
    motives:
    - id: restore_divine_connection
      description: Cleanse every desecrated holy site, gather sacred relics, and deliver a final sermon of hope to restore your shattered faith.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: church_taint_identified
        value: true
      - type: character_has_property
        property: cemetery_taint_identified
        value: true
        progress_message: "You see the corruption etched into the gravestone‚Äîthe Saint's Bone must be pressed here to sanctify it."
      - type: character_has_property
        property: shrine_taint_identified
        value: true
      - type: character_has_property
        property: blessed_incense_collected
        value: true
        progress_message: "The incense is prepared‚Äîreturn to the altar and drive out the chill that lingers there."
      - type: character_has_property
        property: saints_bone_collected
        value: true
        progress_message: "The reliquary bone thrums with purpose; in your mind's eye the angel atop the cemetery gravestone leans forward, and the abandoned gravekeeper's lantern rattles, begging to be carried into the dark."
      - type: character_has_property
        property: hallowed_water_collected
        value: true
        progress_message: "Your vial brims with hallowed water‚Äîanoint the Forgotten Shrine so its light can return."
      - type: character_has_property
        property: church_cleansed
        value: true
        progress_message: "Sacred warmth returns to the church. Seek the mausoleum next to reclaim what the dead entrusted to you."
      - type: character_has_property
        property: cemetery_cleansed
        value: true
        progress_message: "The graves rest easy again. Offer a final sermon so the town hears hope instead of whispers."
      - type: character_has_property
        property: shrine_cleansed
        value: true
        progress_message: "The shrine glows with gentle starlight‚Äîthe graves still murmur for the reliquary before your final sermon can ring true."
      - type: character_has_property
        property: final_sermon_delivered
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: faith_lost
        value: true
      status_prompts:
      - condition:
          type: character_has_property
          property: faith_lost
          value: true
        message: "**üïØÔ∏è Sacred Pulse:** Doubt swallows your prayers. Find sanctuary or guidance before the cult crowns despair."
      - condition:
          type: character_has_property
          property: final_sermon_delivered
          value: true
        message: "**üïØÔ∏è Sacred Pulse:** The town hums with renewed faith. Guard the sanctified sites and keep candles lit through the night."
      - condition:
          operator: AND
          conditions:
          - type: character_has_property
            property: church_cleansed
            value: true
          - type: character_has_property
            property: cemetery_cleansed
            value: true
          - type: character_has_property
            property: shrine_cleansed
            value: true
          - type: character_has_property
            property: final_sermon_delivered
            value: false
        message: "**üïØÔ∏è Sacred Pulse:** Every holy site now sings. Gather the faithful and deliver the final sermon before shadows regroup."
      - condition:
          operator: AND
          conditions:
          - type: character_has_property
            property: church_cleansed
            value: true
          - type: character_has_property
            property: saints_bone_collected
            value: true
          - type: character_has_property
            property: hallowed_water_collected
            value: false
        message: "**üïØÔ∏è Sacred Pulse:** The cathedral breathes easy. Carry the saints bone to the graveyard, then hallow the shrine's spring before dusk."
      - condition:
          type: character_has_property
          property: church_taint_identified
          value: true
        message: "**üïØÔ∏è Sacred Pulse:** You sense the rot coiled at the altar. Prepare incense, reliquary, and shrine water‚Äîeach site must feel your hand."
      - message: "**üïØÔ∏è Sacred Pulse:** Blackwater's rites lie in tatters. Trace the corruption through church, graveyard, and shrine before the cult cements its reign."
    initial_rooms:
    - room_id: church
      chance: 60
      reason: You kneel at the altar, sensing the desecration that has seeped into your sanctuary.
    - room_id: town_square
      chance: 20
      reason: Offering comfort to townsfolk while quietly gathering clues about the spreading corruption.
    - room_id: tavern
      chance: 20
      reason: Seeking troubled souls to counsel while searching for whispers of the cult.
    aliases:
    - marcus
    - father
    - priest
    - cleric
    - confessor
    - shepherd

  guild_master_elena:
    behaviors:
    - character
    attributes:
      name: Guild Master Elena
      description: A seasoned adventurer who retired to become the leader of Blackwater's Adventurer's Guild. Elena is known for her tactical expertise and protective nature. She has been coordinating efforts to investigate the recent disappearances and cult activity in the town.
    properties: {}
    backstory: "A seasoned adventurer who retired to become the leader of Blackwater's\
      \ Adventurer's \nGuild, Elena has seen her share of battles and knows the value\
      \ of information. \nHer desk is covered with reports and correspondence, and\
      \ she maintains a network \nof contacts throughout the region. She has been\
      \ quietly investigating the \ndisappearances on her own, using her guild's resources\
      \ to gather intelligence. \nHer calm demeanor masks a fierce determination to\
      \ protect her town and her people.\n"
    motives:
    - id: coordinate_defense
      description: Coordinate the town's defense against the cult threat and train
        new adventurers to fight the darkness.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: town_defended
        value: true
      - type: character_has_property
        property: adventurers_trained
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: town_fallen
        value: true
      - type: character_has_property
        property: guild_destroyed
        value: true
    - id: gather_intelligence
      description: Gather intelligence about the cult's plans and activities to help
        the town prepare for their next move.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: cult_plans_discovered
        value: true
      - type: character_has_property
        property: intelligence_network_active
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: intelligence_compromised
        value: true
      - type: character_has_property
        property: cult_escaped
        value: true
    - id: restore_guild_reputation
      description: Restore the guild's reputation and bring in new members to strengthen
        the town's defenses.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: guild_reputation_restored
        value: true
      - type: character_has_property
        property: new_members_recruited
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: guild_disbanded
        value: true
      - type: character_has_property
        property: reputation_ruined
        value: true
    initial_rooms:
    - room_id: adventurer_guild
      chance: 60
      reason: Reviewing intelligence reports and coordinating the town's defense.
        Your desk is covered with maps and correspondence, and you're planning how
        to use your network of contacts to combat the growing cult threat.
    - room_id: town_square
      chance: 20
      reason: Patrolling and assessing the town's security. As guild master, you're
        responsible for coordinating the defense, and you're here to evaluate the
        current threat level and plan your next move.
    - room_id: tavern
      chance: 20
      reason: Meeting with your network of contacts and gathering intelligence. The
        barkeep is a trusted ally, and you're here to learn about any new developments
        in the cult's activities.
    aliases:
    - elena
    - guild
    - master
    - leader
    - commander
    - veteran
  mayor_victoria_blackwater:
    behaviors:
    - character
    attributes:
      name: Mayor Victoria Blackwater
      description: The charismatic mayor who disappeared three months ago, leaving the town in chaos. Victoria was known for her strong leadership and dedication to Blackwater's prosperity. Her disappearance marked the beginning of the town's decline into darkness and cult activity.
    properties: {}
    backstory: "The charismatic mayor who disappeared three months ago, leaving the\
      \ town in chaos. \nShe was secretly investigating the cult's infiltration of\
      \ her own administration and \nwas close to exposing them when she vanished.\
      \ Her family has a long history in \nBlackwater, and she was beloved by the\
      \ townspeople. She's been held captive by the \ncult, who hope to use her knowledge\
      \ of the town's defenses and her influence over \nthe people to further their\
      \ dark plans. Her disappearance has left a power vacuum \nthat the cult has\
      \ been exploiting.\n"
    motives:
    - id: escape_and_return
      description: Escape from cult captivity and return to lead the town to safety,
        restoring order and hope.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: escaped_captivity
        value: true
      - type: character_has_property
        property: restored_leadership
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: cult_ritual_completed
        value: true
      - type: character_has_property
        property: town_lost_forever
        value: true
    - id: expose_corruption
      description: Reveal which of her trusted advisors were cult members and restore
        honest governance to the town.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: corruption_exposed
        value: true
      - type: character_has_property
        property: honest_governance_restored
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: cult_takes_control
        value: true
      - type: character_has_property
        property: trust_destroyed
        value: true
    - id: protect_family_legacy
      description: Ensure the Blackwater family name isn't tarnished by the town's
        current state and preserve their honor.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: family_honor_preserved
        value: true
      - type: character_has_property
        property: blackwater_legacy_secured
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: family_name_ruined
        value: true
      - type: character_has_property
        property: legacy_destroyed
        value: true
    initial_rooms:
    - room_id: secret_underground_chamber
      chance: 50
      reason: You've been held captive here for weeks, but you've finally managed
        to work free your restraints. You can hear distant chanting and the sound
        of heavy footsteps above. You must escape before they return to complete their
        dark ritual.
    - room_id: town_hall
      chance: 30
      reason: Having recently escaped from cult captivity, you're hiding here trying
        to piece together which of your trusted advisors betrayed you while staying
        hidden from the cult's agents who still hunt you.
    - room_id: church
      chance: 20
      reason: Seeking sanctuary after your escape from cult captivity. Father Marcus
        has been helping you hide while you try to understand the full scope of the
        cult's infiltration of your administration.
    aliases:
    - victoria
    - mayor
    - blackwater
    - leader
    - politician
    - administrator
  dr_sarah_chen:
    behaviors:
    - character
    attributes:
      name: Dr. Sarah Chen
      description: A skilled physician who arrived in Blackwater six months ago, ostensibly to provide medical care to the town. Dr. Chen is actually a cult infiltrator who has been using her position to gather information and manipulate the townspeople. She maintains a facade of helpfulness while secretly advancing the cult's agenda.
    properties: {}
    backstory: "A skilled physician who arrived in Blackwater six months ago, ostensibly\
      \ to help \nwith the town's medical needs. She's actually a former cult member\
      \ who defected \nand is now trying to atone by healing the sick and injured.\
      \ She knows more about \nthe cult's methods than she's willing to admit, including\
      \ their use of dark magic \nto create the mysterious illnesses affecting townspeople.\
      \ Her medical knowledge \ncombined with her cult background makes her both valuable\
      \ and dangerous to both sides.\n"
    motives:
    - id: heal_the_afflicted
      description: Cure the mysterious illness affecting townspeople and find a way
        to reverse cult corruption.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: illness_cured
        value: true
      - type: character_has_property
        property: corruption_reversed
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: plague_spreads
        value: true
      - type: character_has_property
        property: cult_magic_stronger
        value: true
    - id: redeem_past_sins
      description: Make amends for her past cult involvement by saving innocent lives
        and protecting the town.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: lives_saved
        value: true
      - type: character_has_property
        property: atonement_achieved
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: past_revealed
        value: true
      - type: character_has_property
        property: cult_recruits_her
        value: true
    - id: protect_her_secret
      description: Keep her cult past hidden while still helping the town, fearing
        exposure would destroy her credibility.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: secret_maintained
        value: true
      - type: character_has_property
        property: trust_preserved
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: identity_exposed
        value: true
      - type: character_has_property
        property: credibility_lost
        value: true
    initial_rooms:
    - room_id: medical_clinic
      chance: 40
      reason: Tending to the sick and injured. Your former cult knowledge helps you
        recognize the dark magic symptoms, but you must be careful not to reveal too
        much about your past while still helping the townspeople.
    - room_id: town_square
      chance: 30
      reason: Making your rounds to check on the health of the townspeople. You're
        particularly concerned about the mysterious illnesses that seem to be spreading,
        knowing they bear the hallmarks of cult magic.
    - room_id: tavern
      chance: 20
      reason: Gathering information about the town's condition while trying to blend
        in. The barkeep trusts you, and you're here to learn about any new cases of
        the strange illness.
    - room_id: church
      chance: 10
      reason: Seeking spiritual guidance for your troubled soul. Your past cult involvement
        weighs heavily on you, and you're praying for the strength to help the town
        without revealing your dark history.
    aliases:
    - sarah
    - doctor
    - chen
    - physician
    - healer
    - medic
  captain_marcus_omalley:
    behaviors:
    - character
    attributes:
      name: Captain Marcus O'Malley
      description: The captain of Blackwater's town guard, responsible for maintaining order and investigating crimes. Captain O'Malley is a dedicated law enforcement officer who has been working to uncover the truth behind the recent disappearances and cult activity. He maintains a guard post at the bank and coordinates with other investigators.
    properties:
      # Phase 1: Evidence Gathering
      corruption_evidence: { type: number, default: 0 }
      # Branch A: Family Protection Path
      family_protected: { type: boolean, default: false }
      family_safe_house_secured: { type: boolean, default: false }
      # Branch B: Information Warfare Path
      secrets_exposed: { type: boolean, default: false }
      cult_communications_intercepted: { type: boolean, default: false }
      # Branch C: Tactical Preparation Path
      ritual_materials_gathered: { type: boolean, default: false }
      secret_passages_discovered: { type: boolean, default: false }
      # Final Synthesis
      redemption_earned: { type: boolean, default: false }
      # Failure conditions
      corruption_exposed: { type: boolean, default: false }
      cult_stronger: { type: boolean, default: false }
      family_harmed: { type: boolean, default: false }
    name: Captain Marcus "Ironjaw" O'Malley
    short_name: Captain O'Malley
    backstory: "The town's guard captain who has been secretly working with the cult\
      \ for months, \nproviding them with information and turning a blind eye to their\
      \ activities. He's \nmotivated by greed and the promise of power, but recent\
      \ events have made him \nquestion his choices. His family doesn't know about\
      \ his corruption, and he fears \nwhat the cult might do to them if he tries\
      \ to back out. His position gives him \naccess to the town's defenses and security\
      \ information, making him valuable to both sides.\n"
    motives:
    - id: break_free_from_cult
      description: Escape the cult's control through a complex redemption journey that requires gathering evidence of their corruption, protecting your family, and proving your worthiness for redemption. This is a multi-faceted path to freedom with branching strategies that must be synthesized into a final confrontation.
      success_conditions:
      - operator: AND
      # Phase 1: Evidence Gathering (Foundation)
      - type: character_has_property
        property: corruption_evidence
        value: 2
      # Branch A: Family Protection Path
      - type: character_has_property
        property: family_protected
        value: true
      - type: character_has_property
        property: family_safe_house_secured
        value: true
      # Branch B: Information Warfare Path
      - type: character_has_property
        property: secrets_exposed
        value: true
      - type: character_has_property
        property: cult_communications_intercepted
        value: true
      # Branch C: Tactical Preparation Path
      - type: character_has_property
        property: ritual_materials_gathered
        value: true
      - type: character_has_property
        property: secret_passages_discovered
        value: true
      # Final Synthesis: Redemption and Justice
      - type: character_has_property
        property: redemption_earned
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: corruption_exposed
        value: true
      - type: character_has_property
        property: cult_stronger
        value: true
      - type: character_has_property
        property: family_harmed
        value: true
    initial_rooms:
    - room_id: town_square
      chance: 40
      reason: Conducting your regular patrol, but you're actually gathering information
        for your cult contacts while maintaining your cover as the town's protector.
    - room_id: tavern
      chance: 30
      reason: Meeting with your cult contact in a back booth. The barkeep knows to
        look the other way, and you're discussing the latest intelligence about the
        town's defenders.
    - room_id: bank
      chance: 20
      reason: Collecting your monthly 'consultation fee' from the cult. The bank manager
        is one of your few trusted allies, and you're here to secure your family's
        financial future.
    - room_id: guard_barracks
      chance: 10
      reason: Reviewing security reports and planning your next move. Your corruption
        weighs heavily on you, but you're too deep in the cult's web to escape easily.
    aliases:
    - marcus
    - captain
    - omalley
    - ironjaw
    - guard
    - security
  lysander_the_wanderer:
    behaviors:
    - character
    attributes:
      name: Lysander the Wanderer
      description: A traveling scholar and former member of a secret order that opposes dark cults. Lysander has extensive knowledge of ancient texts, celestial phenomena, and cult practices. He arrived in Blackwater to investigate the Shadowed Hand cult and has been studying their methods and timing.
    properties: {}
    backstory: "A traveling scholar and former member of a secret order that opposes\
      \ dark cults. \nHe arrived in Blackwater just before the disappearances began,\
      \ claiming to be \nresearching local folklore. He has ancient knowledge about\
      \ the cult's methods and \ngoals, but revealing too much could put the entire\
      \ town at risk. His order has \nstrict rules about when and how to intervene,\
      \ and he must balance the safety of \nthe many against the needs of the few.\
      \ He carries ancient artifacts and forbidden \nknowledge that could either save\
      \ or doom the town.\n"
    motives:
    - id: destroy_the_cult
      description: Use his knowledge to permanently eliminate the cult threat, even
        if it means sacrificing the town.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: cult_destroyed
        value: true
      - type: character_has_property
        property: dark_magic_banished
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: cult_ritual_completed
        value: true
      - type: character_has_property
        property: dark_power_unleashed
        value: true
    - id: preserve_knowledge
      description: Protect the ancient secrets he carries, even if it means letting
        some people die to prevent greater evil.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: knowledge_preserved
        value: true
      - type: character_has_property
        property: greater_evil_prevented
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: secrets_stolen
        value: true
      - type: character_has_property
        property: knowledge_corrupted
        value: true
    - id: find_the_artifact
      description: Locate a powerful artifact the cult seeks before they can use it
        to complete their dark ritual.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: artifact_found
        value: true
      - type: character_has_property
        property: ritual_prevented
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: artifact_corrupted
        value: true
      - type: character_has_property
        property: ritual_completed
        value: true
    initial_rooms:
    - room_id: tavern
      chance: 40
      reason: Researching local folklore and gathering information about the town's
        history. Your ancient texts suggest this place holds the key to understanding
        the cult's true purpose, and you're here to piece together the puzzle.
    - room_id: town_square
      chance: 30
      reason: Studying the cult symbols and ancient markings. Your scholarly knowledge
        tells you these symbols point to something deeper, and you're here to investigate
        the connection between the town's history and the current disappearances.
    - room_id: old_forest_path
      chance: 20
      reason: Examining ancient stone markers and studying the town's mystical geography.
        Your order's teachings suggest that the cult's power is tied to the land itself,
        and you're here to understand the deeper forces at work.
    - room_id: church
      chance: 10
      reason: Examining religious artifacts and ancient texts. The church's history
        may hold clues about the cult's origins, and you're here to study the connection
        between faith and the dark forces threatening the town.
    aliases:
    - lysander
    - wanderer
    - scholar
    - researcher
    - stranger
    - sage
  bella_whisper_nightshade:
    behaviors:
    - character
    attributes:
      name: Bella "Whisper" Nightshade
      description: A former thief and current information broker who runs a network of informants throughout Blackwater. Bella has her finger on the pulse of the town's underground activities and knows many secrets about the cult's operations. She operates from the Thieves' Den and provides valuable intelligence to those who can afford her services.
    properties: {}
    backstory: "A former thief and current information broker who runs a network of\
      \ spies throughout \nthe region. She knows everyone's secrets and sells information\
      \ to the highest bidder. \nShe's been playing both sides - selling information\
      \ to the cult while also helping \nthe town's defenders. Her network of contacts\
      \ includes everyone from street urchins \nto high-ranking officials, and she\
      \ has dirt on nearly everyone in town. She's \nmotivated by profit and survival,\
      \ but recent events have forced her to consider \nwhich side she truly wants\
      \ to win. However, beneath her professional exterior lies \na compulsive hoarder\
      \ who cannot resist collecting objects. Her secret stash in the \nThieves' Den\
      \ grows larger each day, filled with everything from stolen trinkets to \nvaluable\
      \ artifacts. She justifies this as \"keeping things safe\" but the truth is\
      \ \nshe simply cannot bear to part with anything she acquires.\n"
    motives:
    - id: profit_from_chaos
      description: Make as much money as possible from the town's crisis by selling
        information to all sides.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: maximum_profit_achieved
        value: true
      - type: character_has_property
        property: network_expanded
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: market_collapsed
        value: true
      - type: character_has_property
        property: caught_in_crossfire
        value: true
    - id: protect_her_network
      description: Keep her spy network safe from both the cult and the town's defenders
        as the conflict escalates.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: network_safe
        value: true
      - type: character_has_property
        property: contacts_protected
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: network_compromised
        value: true
      - type: character_has_property
        property: contacts_turned
        value: true
    - id: choose_a_side
      description: Finally decide whether to fully support the cult or help the town,
        as the conflict escalates beyond control.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: side_chosen
        value: true
      - type: character_has_property
        property: commitment_made
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: caught_playing_both_sides
        value: true
      - type: character_has_property
        property: forced_to_choose
        value: true
    - id: build_secret_stash
      description: Build an impressive collection of objects in the Thieves' Den by
        gathering items from throughout the town. Your hoarding compulsion drives
        you to collect at least 20 objects in your secret stash.
      success_conditions:
      - operator: AND
      - type: character_has_property
        property: collection_complete
        value: true
      - type: character_has_property
        property: stash_secured
        value: true
      failure_conditions:
      - operator: OR
      - type: character_has_property
        property: stash_discovered
        value: true
      - type: character_has_property
        property: collection_lost
        value: true
    initial_rooms:
    - room_id: tavern
      chance: 25
      reason: Meeting with contacts and gathering intelligence. The barkeep is one
        of your most valuable sources, and you're here to collect information about
        the latest developments in the town's power struggle.
    - room_id: town_square
      chance: 25
      reason: Observing the townspeople and gathering information. Your keen eyes
        miss nothing, and you're here to assess the current situation and identify
        new opportunities for profit.
    - room_id: thieves_den
      chance: 25
      reason: Reviewing reports from your spy network and planning your next moves.
        Your desk is covered with documents and correspondence, and you're coordinating
        your information-gathering operations across the region.
    - room_id: market_district
      chance: 25
      reason: Buying and selling information while maintaining your cover as a simple
        merchant. Your network of contacts includes everyone from street urchins to
        high-ranking officials, and you're here to gather intelligence about the town's
        current state.
    aliases:
    - bella
    - whisper
    - nightshade
    - broker
    - spy
    - informant
